---
title: Backgrounds of Coin Mixing Service
description: some backgounds of coin mixing service
tags: coin-mixing-service
category: bitcoin
date: 2023-10-12
---

# 混币服务

## 区块链

简单的说，区块链是由密码学支撑的在线交易记录集合。一组记录利用密码学构成一个区块，使用分布式记账系统来保存记录。每个交易记录都在多个地点同时保存，每次变更都需要网络中的所有用户知晓并同意。因为需要同时修改多个地点的同一个记录，所以区块链非常难以黑入。

因为区块链的去中心化，加密和分布式特性，区块链可以解决传统中心化系统的一系列难题：
+ 安全性：中心化系统被攻破意味着所有数据沦陷，但去中心化的区块链不会
+ 成本：中心化系统需要公司大量成本保证使用流畅，分布式的区块链不需要
+ 数据隐私：中心化系统也会访问到保存的用户数据，但加密的区块链不会
+ 透明性：中心化系统使用数据不需要通知所有人，但区块链需要网络中所有用户同意

## 比特币基本知识

比特币是搭建在区块链上的货币系统，相较以前的密码币系统，比特币首次解决了重复消费（double spending）问题，因而得到发展。

比特币协议用地址(address)描述交易参与方，每笔交易包括输入方和输出方，输入方地址的比特币按照指定比例发给输出方地址。

因此在比特币交易视角看来是多个地址之间在进行交易。一个地址对应一个用户，但一个用户可以拥有多个地址。比特币管理软件可以让用户创建和操作任意数量的地址。因为用户控制地址进行交易，地址又不包括用户信息无法准确逆映射，所以在比特币交易中不会保留参与者的身份信息。这种用户与地址间一对多的关系是比特币匿名性的基础，也被称为伪匿名性。

> 但好像匿名性的基础是无法通过地址反向追踪到用户吧，无法逆映射好像才更重要一点。

## 混币服务

简单来说，混币服务是用于发送和接收匿名交易的区块链协议，允许用户混淆交易的源头和目的地址。用户向服务发送密码币，服务将密码币与其他的密码币或者token混合，然后向接收地址发送等量的混后货币，从而隐藏发送者和接收者之间的联系。

混币服务使用智能合约来接受一个地址的token寄存，并支持另一个地址取走token。智能合约起到币池的作用，混合所有寄存的token。用户通过钱包连接到混币平台，选择一个网络来进行寄存或提取。寄存时，平台生成私人票据（private note）给用户，确认用户已经备份票据之后将寄存的token发送到平台的币池里。提取时，用户提供接收地址以及私人票据，平台生成证明（proof），在用户确认提取之后将密码币发送至接收地址。

混币服务是无监管的，没有第三方来控制钱包和资金，只有智能合约参与服务。

## 智能合约

智能合约是用代码组成的一组在线合约，用于按规则执行交易。同样因为加密、分布式特性，智能合约相较传统交易系统（银行那种）更加安全，透明，精确，自动且不需要第三方参与。

智能合约在预定义的条件满足时会自动执行，智能合约的操作有三类特点：

+ 内部链接：智能合约通常有有限的功能集合，多个智能合约可以连接到一起组成复杂约定（去中心化应用）
+ 有执行对象：有合约的签署方与智能合约进行交互
+ 环境依赖：智能合约依赖底层的密码学环境，保证了操作的安全性以及操作数据的不可变更和总体透明。

对大部分智能合约而言，底层的代码是不可变更的，但有少部分支持代码更新。